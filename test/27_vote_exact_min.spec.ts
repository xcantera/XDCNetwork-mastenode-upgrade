import { expect } from "chai";import { ethers } from "hardhat";import { setup } from "./00_fixture";
describe("T27 exact voter min",()=>{it("accepts vote of 0.1M XDC",async()=>{const ctx=await setup();const [owner,voter]=ctx.users;await ctx.kyc.connect(ctx.kycVerifier).mint(await owner.getAddress(),"m");await ctx.kyc.connect(ctx.kycVerifier).mint(await voter.getAddress(),"m");const stake=ethers.utils.parseEther("10000000");await ctx.validator.connect(owner).propose(await owner.getAddress(),{value:stake});const min=ethers.utils.parseEther("100000");await expect(ctx.validator.connect(voter).vote(await owner.getAddress(),{value:min})).to.emit(ctx.validator,"Vote");});});
